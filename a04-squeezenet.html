<h3 align=center>Deeplearnjs in your browser a04-squeezenet.html </h3>

<!--   *******************************Start: Which source js file to use? ****************************************************   -->

<!--   In the Github repository will be old  
    <script src="deeplearn.js"></script>
 -->


<!-- the newest version but all examples may not work 
<script src="https://unpkg.com/deeplearn"></script> 
-->

  
<!-- the online version that these examples were made with  -->

<script src="https://unpkg.com/deeplearn@0.3.11/dist/deeplearn.js"></script>


<!--   *******************************Stop: Which source js file to use? ****************************************************   -->


<div id="myDiv01Code">

<script src='https://unpkg.com/deeplearn-squeezenet'></script>
    
<h2 align=center> <a href="https://deeplearnjs.org/demos/playground/examples.html">SqueezeNet and DeeplearnJS Playground</a></h2>

        

   
<script>

async function myCheckImage(){
  dl = deeplearn
  const catImage = document.getElementById('cat');
  const math = new dl.NDArrayMathGPU();
  const squeezeNet = new squeezenet.SqueezeNet(math);
  await squeezeNet.load();

  const image = dl.Array3D.fromPixels(document.getElementById('cat'));
  const inferenceResult = await squeezeNet.predict(image);

  const topClassesToProbs = await squeezeNet.getTopKClasses(inferenceResult.logits, 10);

  document.getElementById('myDiv01').innerHTML = ''   // clear the div
  for (const className in topClassesToProbs) {
    
    document.getElementById('myDiv01').innerHTML += topClassesToProbs[className].toFixed(5) + ' : '+ className + '<br>'
  }
}
</script>


Save an image to a folder and then drag the image onto this page. <br> 



  <img onload = "myCheckImage()" id="cat" src="https://storage.googleapis.com/learnjs-data/images/cat.jpeg" width="227" height="227" crossorigin    ondrop="{

    event.preventDefault(); 
    event.stopPropagation();   
    document.getElementById('cat').src =  window.URL.createObjectURL(event.dataTransfer.files[0]); 
    setTimeout('myCheckImage()',200)  // oldschool async :>

  }" ondragover="{

    event.preventDefault(); 
    event.stopPropagation();
    event.dataTransfer.dropEffect = 'copy';
    document.getElementById('myDiv01').innerHTML = 'drag over'
  }"  ><br><br>



<input type=button value="Reset Output DIV" onclick="{
   document.getElementById('myDiv01').innerHTML = '...'                                             
}">

<input type=button value="Search SqueezeNet" onclick="{
     myCheckImage()                                     
}"><br><br>
    
<div id="myDiv01">...</div><br>                 
</div>
    
<textarea id="myTextarea01"   style= "background-color:yellow;white-space:nowrap; width:100%"  rows=3  onclick="{
   myTextGrow('myTextarea01', 'myDiv01Code')
}">
Click the button "Reset Output DIV" then click here to see the original code
</textarea>

<br><br><hr><br>




This Github: <a href="https://github.com/hpssjellis/deeplearnjs-javascript-examples"> https://github.com/hpssjellis/deeplearnjs-javascript-examples </a><br>
This Website Index: <a href="https://hpssjellis.github.io/deeplearnjs-javascript-examples/">https://hpssjellis.github.io/deeplearnjs-javascript-examples/</a><br>
<br>
Original Deeplearn Github <a href="https://github.com/PAIR-code/deeplearnjs">https://github.com/PAIR-code/deeplearnjs</a><br>
Check out the <a href="https://github.com/PAIR-code/deeplearnjs/releases">latest version of deeplearnjs</a> <br> 
Deeplearn API at <a href="https://deeplearnjs.org/docs/api/index.html">https://deeplearnjs.org/docs/api/index.html</a><br><br>
By Jeremy Ellis <br>
Twitter<a href="https://twitter.com/@rocksetta">@rocksetta</a><br>
Use at your own risk!





<!--  Following is a helper functions  to grow the textareas  -->

<script>
function myTextGrow(myT, myB){
   document.getElementById(myT).value = '\x3Cscript src="https://unpkg.com/deeplearn@0.3.11/dist/deeplearn.js"> \x3C/script> \n\n' + document.getElementById(myB).innerHTML 
        
   setTimeout(function() {
      while (  document.getElementById(myT).clientHeight < document.getElementById(myT).scrollHeight){                                                                                                                                              
          document.getElementById(myT).rows += 3; 
      } 
   }, 100)
}  
</script>  
