<script src="https://unpkg.com/deeplearn@0.5.1/dist/deeplearn.js"> </script> 
Version 5 <br><br>
<h2 align=center>CSV to K Nearest Neighbor (KNN) Classifier</h2>






Original CSV:<br><textarea id="myArea02" rows=10 cols=70 nowrap placeholder="length,width,height,label&#10;2,3,4,small&#10;4,6,7,big">
sepal_length,sepal_width,petal_length,petal_width,species
5.1,3.5,1.4,0.2,setosa
4.9,3,1.4,0.2,setosa
4.7,3.2,1.3,0.2,setosa
</textarea><br>

<input type=button value="Massage Data" onclick="{
 
   

}"><br><br>








Data: <br><textarea id="myArea01" rows=10 cols=70 nowrap placeholder="length,width,height,label&#10;2,3,4,small&#10;4,6,7,big">
1.0, 9.8, 5.0, 2.3, 12.1
</textarea><br>

The Headings: <input id="myText03" size=70 type=text value="Size" placeholder="legnth, width, height"><br>
The Labels: <input id="myText02" size=70 type=text value="'small','big','medium','small','big'" placeholder="4.2, 5.1, 8.6"><br>
The unknown: <input id="myText01" type=text value="3.5" placeholder="4.2, 5.1, 8.6"><br>


<input  type="button" value="Enter Tensor" onclick="{
  (async function (){
   myData = dl.tensor1d(document.getElementById('myArea01').value.split(',')); 
   myUnknown = dl.tensor1d(document.getElementById('myText01').value.split(',')); 
   myHeadingsArray = document.getElementById('myText03').value.split(',')
   myLabelsArray = document.getElementById('myText02').value.split(',')
   
   myLabelsArray.length
   myOriginalLoc = new Array(myLabelsArray.length)
   for (x=0;  x <= myLabelsArray.length-1; x++ ){
      myOriginalLoc[x] = x
   }     
   
                                                   
 
      document.getElementById('myDiv02').innerHTML +=  'myData tensor is [' + await myData.data() +']<br>'   
      document.getElementById('myDiv02').innerHTML +=  'Length ' + myLabelsArray.length + ', myLabels tensor is [' + myLabelsArray +']<br>'   
      document.getElementById('myDiv02').innerHTML +=  'myUnknown tensor is [' + await myUnknown.data() +']<br><br>'  
   })()                                                                                                           
}">

<input  type="button" value="K Nearest Neighbor 1D Tensor" onclick="{
                                                          
  (async function (){

  
      //const mySqrt = dl.tensor1d([0.5, 0.5, 0.5, 0.5, 0.5]);                                                                             
      const mySqrt = dl.fill([myLabelsArray.length], 0.5)

    
      const myDiff = dl.sub(myData, myUnknown);   
      const mySquaredDiff = dl.mul(myDiff, myDiff);
      const myKNN = mySquaredDiff.pow(mySqrt) 
      myKnnArray = await myKNN.data()                                                                            
                                                                                       
      document.getElementById('myDiv02').innerHTML +=  'The KNN tensor is [' + myKnnArray +']<br>'

      //myKnnArray = await myKNN.buffer()
      
                                                                    
       alert(myKnnArray[2])                                                             
                                                                    

      myJoinedArray = myKnnArray.map(function(value, index){
            return [myKnnArray[index], myLabelsArray[index], myOriginalLoc[index]];
         })


    
   })()
                                                        
}">

<input  type="button" value="Merge two arrays" onclick="{
  
var arrFirst = [0,1,2,3,4],
    arrSecond = [5,6,7,8,9];
    arrThird = ['a','b','c','d','e'];

joined = arrFirst.map(function(value, index){
            return [arrFirst[index], arrSecond[index], arrThird[index]];
         })



            

   alert(joined[0]+', '+joined[1])
                                                  

                                                        
}">





<input  type="button" value="Make array of indicies" onclick="{
  myArrayLength = 6
  myShow = new Array(myArrayLength)
  for (x=0;  x <= myArrayLength-1; x++ ){
    myShow[x] = x
  }          

   alert(myShow)
                                                  

                                                        
}">


<input  type="button" value="Sort" onclick="{

      alert(myJoinedArray)                                            

                                                        
}">






<div id="myDiv02">...<br></div><br>
